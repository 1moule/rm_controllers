<launch>
    <!-- Load common test stuff -->
    <include file="$(find rm_chassis_controllers)/launch/load_controllers.launch">
        <arg name="odom_tf" value="false"/>
        <arg name="ekf" default="false"/>
        <arg name="yaw_tf" default="false"/>
    </include>

    <!-- Make sure to disable odom tf -->
    <rosparam file="$(find rm_chassis_controllers)/test/disable_odom_tf.yaml" command="load"/>

    <include file="$(find rm_gazebo)/launch/empty_world.launch">
        <arg name="load_chassis" default="true"/>
        <arg name="load_gimbal" default="false"/>
        <arg name="load_shooter" default="false"/>
        <arg name="load_arm" default="false"/>
        <arg name="paused" default="false"/>
    </include>


    <!-- Controller test -->
    <test test-name="odom_tf_test"
          pkg="rm_chassis_controllers"
          type="odom_tf_test"
          time-limit="40.0">
    </test>
</launch>